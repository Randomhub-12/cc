Adder.java -> import java.rmi.*;

public interface Adder extends Remote {
  int add(int x, int y, int clientPort) throws RemoteException;
}



AdderRemote.java -> import java.rmi.*;
import java.rmi.server.*;

public class AdderRemote extends UnicastRemoteObject implements Adder {
  AdderRemote() throws RemoteException {
    super();
  }

  public int add(int x, int y, int clientPort) {
    int sum = x + y;
    try {
      String clientHost = RemoteServer.getClientHost();
      System.out.println("Client [" + clientHost + ":" + clientPort + "] requested: " + x + " + " + y);
      System.out.println("Sum is: " + sum);
    } catch (Exception e) {
      System.out.println("Could not fetch client host. Request: " + x + " + " + y + " = " + sum);
    }
    return sum;
  }
}



MyServer.java -> import java.rmi.*;
import java.rmi.registry.*;

public class MyServer {
  public static void main(String[] args) {
    try {
      Adder stub = new AdderRemote();
      LocateRegistry.createRegistry(3000);
      Naming.rebind("rmi://localhost:3000/Pooja", stub);
      System.out.println("Server ready...");
    } catch (Exception e) {
      e.printStackTrace();
    }
  }
}



MyClient.java -> import java.rmi.*;
import java.util.Scanner;
import java.net.*;

public class MyClient {
  public static void main(String[] args) {
    try {
      Adder stub = (Adder) Naming.lookup("rmi://localhost:3000/Pooja");

      Scanner sc = new Scanner(System.in);
      System.out.print("Enter first number: ");
      int a = sc.nextInt();
      System.out.print("Enter second number: ");
      int b = sc.nextInt();

      // Get the local port for differentiation
      Socket tempSocket = new Socket("localhost", 3000);
      int clientPort = tempSocket.getLocalPort();
      tempSocket.close();

      int result = stub.add(a, b, clientPort);
      System.out.println("Sum from server: " + result);
      sc.close();
    } catch (Exception e) {
      System.out.println("Error: " + e);
    }
  }
}



cmd ->

Step 1: Open PowerShell in your Assignment2 folder
Step 2: Compile all Java files: javac Adder.java AdderRemote.java MyServer.java MyClient.java
Step 3: Start the Server (creates the RMI Registry): java MyServer
Step 4: Open a new PowerShell window and run the client: java MyClient
Step 5: (Optional) Launch more clients in separate windows to test multiple connections
Step 6: Stop the server with Ctrl + C 