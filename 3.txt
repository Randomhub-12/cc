Download -> https://www.azul.com/downloads/?package=jdk#zulu

add bin path in environment variable on top

create a folder in the directory of folder create a file

Hello.idl  -> module HelloApp {
    interface Hello {
        string sayHello(in string name);
    };
};


run -> idlj -fall Hello.idl

O/p -> Generates HelloApp folder



HelloApp\HelloImpl.java ->  package HelloApp;

import org.omg.CORBA.*;

public class HelloImpl extends HelloPOA {
    private ORB orb;

    public void setORB(ORB orb_val) {
        orb = orb_val;
    }

    @Override
    public String sayHello(String name) {
        System.out.println("Request from client: " + name);
        return "Hello, " + name + " (from CORBA Server)";
    }
}


back in root folder again

Server.java -> import HelloApp.*;
import org.omg.CORBA.*;
import org.omg.PortableServer.*;
import org.omg.CosNaming.*;

public class Server {
    public static void main(String args[]) {
        try {
            ORB orb = ORB.init(args, null);

            POA rootpoa = POAHelper.narrow(orb.resolve_initial_references("RootPOA"));
            rootpoa.the_POAManager().activate();

            HelloImpl helloImpl = new HelloImpl();
            helloImpl.setORB(orb);

            org.omg.CORBA.Object ref = rootpoa.servant_to_reference(helloImpl);
            Hello href = HelloHelper.narrow(ref);

            org.omg.CORBA.Object objRef = orb.resolve_initial_references("NameService");
            NamingContextExt ncRef = NamingContextExtHelper.narrow(objRef);

            String name = "HelloService";
            NameComponent path[] = ncRef.to_name(name);
            ncRef.rebind(path, href);

            System.out.println("Server ready...");
            orb.run();
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}



Client.java -> import HelloApp.*;
import org.omg.CORBA.*;
import org.omg.CosNaming.*;

public class Client {
    public static void main(String args[]) {
        try {
            ORB orb = ORB.init(args, null);

            org.omg.CORBA.Object objRef = orb.resolve_initial_references("NameService");
            NamingContextExt ncRef = NamingContextExtHelper.narrow(objRef);

            String name = "HelloService";
            Hello helloRef = HelloHelper.narrow(ncRef.resolve_str(name));

            System.out.println("Got reference to HelloService");
            String result = helloRef.sayHello("Student");
            System.out.println("Response from server: " + result);
        } catch (Exception e) {
            e.printStackTrace();
        }
    }
}


run  ->  javac HelloApp\*.java HelloApp\HelloImpl.java Server.java Client.java
 
OR

run -> javac HelloApp\HelloImpl.java Server.java Client.java


run -> orbd -ORBInitialPort 1050


Terminal 2:

run -> java Server -ORBInitialHost localhost -ORBInitialPort 1050


TErminal 3:

run -> java Client -ORBInitialHost localhost -ORBInitialPort 1050



now to run it again


orbd -ORBInitialPort 1050

Terminal 2:

run -> java Server -ORBInitialHost localhost -ORBInitialPort 1050



Terminal 3:

run -> java Client -ORBInitialHost localhost -ORBInitialPort 1050






