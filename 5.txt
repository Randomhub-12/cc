BullyAlgorithm.java -> import java.util.*;

class Process {
  int id;
  boolean active;

  Process(int id) {
    this.id = id;
    this.active = true;
  }
}

public class BullyAlgorithm {
  static Process[] processes;
  static int coordinator;

  public static void main(String[] args) {
    Scanner sc = new Scanner(System.in);
    System.out.print("Enter number of processes: ");
    int n = sc.nextInt();
    processes = new Process[n];

    for (int i = 0; i < n; i++) {
      processes[i] = new Process(i + 1);
    }

    coordinator = n; // Highest ID is coordinator initially
    System.out.println("Process " + coordinator + " is the coordinator.");

    while (true) {
      System.out.println("
1. Crash process");
      System.out.println("2. Recover process");
      System.out.println("3. Start election");
      System.out.println("4. Exit");
      System.out.print("Enter choice: ");
      int ch = sc.nextInt();

      switch (ch) {
        case 1 -> {
          System.out.print("Enter process to crash: ");
          int crash = sc.nextInt();
          processes[crash - 1].active = false;
          if (crash == coordinator) {
            System.out.println("Coordinator crashed!");
          }
        }
        case 2 -> {
          System.out.print("Enter process to recover: ");
          int recover = sc.nextInt();
          processes[recover - 1].active = true;
          System.out.println("Process " + recover + " recovered.");
          startElection(recover);
        }
        case 3 -> {
          System.out.print("Enter process initiating election: ");
          int initiator = sc.nextInt();
          startElection(initiator);
        }
        case 4 -> {
          System.out.println("Exiting...");
          System.exit(0);
        }
        default -> System.out.println("Invalid choice");
      }
    }
  }

  static void startElection(int initiator) {
    System.out.println("Election initiated by Process " + initiator);
    int newCoordinator = -1;

    for (int i = initiator; i < processes.length; i++) {
      if (processes[i].active) {
        System.out.println("Process " + (i + 1) + " responded OK");
        newCoordinator = i + 1;
      }
    }

    if (newCoordinator == -1) {
      newCoordinator = initiator;
    }

    coordinator = newCoordinator;
    System.out.println("Process " + coordinator + " becomes the new coordinator.");
  }
}





RingElection.java -> package fifth_updated;

import java.util.*;

class Process {
    int index;
    int id;
    boolean isActive;

    public Process(int index, int id) {
        this.index = index;
        this.id = id;
        this.isActive = true;
    }
}

public class RingElection {
    static Scanner sc = new Scanner(System.in);
    static List<Process> ring = new ArrayList<>();

    public static void main(String[] args) {
        System.out.print("Enter number of processes: ");
        int n = sc.nextInt();

        for (int i = 0; i < n; i++) {
            System.out.print("Enter ID for process " + i + ": ");
            int id = sc.nextInt();
            ring.add(new Process(i, id));
        }

        // Simulate coordinator failure: deactivate last process
        ring.get(n - 1).isActive = false;
        System.out.println("Process " + ring.get(n - 1).id + " is set as inactive (coordinator down)");

        while (true) {
            System.out.println("\nMenu:\n1. Start Election\n2. Exit");
            int choice = sc.nextInt();

            if (choice == 1) {
                System.out.print("Enter initiator process ID: ");
                int initiatorId = sc.nextInt();
                startElection(initiatorId);
            } else {
                break;
            }
        }
    }

    static void startElection(int initiatorId) {
        int n = ring.size();
        int initiatorIndex = -1;

        // Find initiator index
        for (int i = 0; i < n; i++) {
            if (ring.get(i).id == initiatorId && ring.get(i).isActive) {
                initiatorIndex = i;
                break;
            }
        }

        if (initiatorIndex == -1) {
            System.out.println("Invalid initiator or process is inactive.");
            return;
        }

        System.out.println("Election initiated by Process " + initiatorId);

        List<Integer> electionIds = new ArrayList<>();
        int currentIndex = initiatorIndex;

        do {
            Process p = ring.get(currentIndex);
            if (p.isActive) {
                System.out.println("Process " + p.id + " received election message.");
                electionIds.add(p.id);
            }
            currentIndex = (currentIndex + 1) % n;
        } while (currentIndex != initiatorIndex);

        int newCoordinatorId = Collections.max(electionIds);
        System.out.println("Election complete. New coordinator is Process " + newCoordinatorId);

        // Announce coordinator
        currentIndex = initiatorIndex;
        do {
            Process p = ring.get(currentIndex);
            if (p.isActive) {
                System.out.println("Process " + p.id + " notified: New coordinator is Process " + newCoordinatorId);
            }
            currentIndex = (currentIndex + 1) % n;
        } while (currentIndex != initiatorIndex);
    }
}


cmd ->

javac BullyAlgorithm.java
java BullyAlgorithm
javac RingElection.java
java RingElection
